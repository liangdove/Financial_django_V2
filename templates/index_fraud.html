{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Fraud Prevention</title>
    <link rel="stylesheet" href="{% static 'index_fraud_style.css' %}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <style>
        body {
            padding-top: 300px; /* 确保内容不被导航栏遮挡 */
            background-color: #e2f4fd; /* body背景颜色，确保加载SVG之前有颜色 */
            }
            .artistic-title {
                font-size: 3rem;
                font-family: 'Brush Script MT', cursive; /* 艺术字字体 */
                color: #007bff;
                text-align: center;
                text-shadow: 2px 2px 5px #000000; /* 添加文字阴影 */
                margin: 20px 0;
        }
        /* 导航栏样式 */
        .navbar {
            background-color: #e2f4fd; /* 初始不透明背景 */
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed; /* 固定在页面顶部 */
            top: 0;
            width: 100%;
            z-index: 1000;
            transition: background-color 0.5s ease; /* 添加平滑过渡效果 */
        }
        
        .navbar.transparent {
            background-color: rgba(0, 128, 255, 0); /* 滑动时透明背景 */
        }
        

        .navbar .logo img {
            height: 60px; /* 调整logo大小 */
        }

        .navbar-title {
            font-size: 2.5rem; /* 放大字体 */
            color: #007bff; /* 文字颜色 */
            font-family: 'Lobster', cursive; /* 使用艺术字体 Lobster */
            transform: translateX(-100px); /* 向左移动100px */
            transition: opacity 0.5s ease, font-size 0.5s ease; /* 平滑的淡出和字体缩放效果 */
        }        

        .navbar.transparent .navbar-title {
            opacity: 0; /* 标题消失 */
        }

        .navbar-nav {
            display: flex;
            gap: 20px; /* 调整导航标签之间的间距 */
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .nav-link {
            color: #000; /* 黑色文字 */
            font-weight: bold;
            text-decoration: none; /* 去除下划线 */
            padding: 0.5rem 1rem;
        }

        .nav-link:hover {
            color: #580661; /* 悬停时文字变色 */
        }

        /* 隐藏下拉菜单 */
        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            right: 100%; /* 将下拉菜单显示在左侧 */
            background-color: #2183d9;
            list-style-type: none;
            padding: 0;
            margin: 0;
            width: auto; /* 设置为 auto，适应内容的宽度 */
            min-width: 120px; /* 设置一个最小宽度，以防内容过少 */
        }

        /* 鼠标悬停显示下拉菜单 */
        .dropdown:hover .dropdown-menu {
            display: block;
        }

        .dropdown-item {
            color: white;
            text-decoration: none;
            padding: 10px;
            display: block;
        }

        .dropdown-item:hover {
            background-color: #555;
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="logo">
            <a href="http://10.3.240.168/" target="_blank">
                <img src="{% static 'images/win_no_background.png' %}" alt="Logo" width="200" height="auto">
            </a>
        </div>
        <span class="navbar-title">调研报告与模型</span> <!-- 添加标题 -->
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="{% url 'index' %}">主页</a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link" href="{% url 'GCN_main' %}">金融反欺诈模型</a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="{% url 'GCN_main' %}">GCN</a></li>
                    <li><a class="dropdown-item" href="{% url 'GraphSage_main' %}">GraphSAGE</a></li>
                    <li><a class="dropdown-item" href="{% url 'GEARSage_main' %}">GEARSage</a></li>
                </ul>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'dgraph' %}">测试</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'about_us' %}">关于我们</a>
            </li>
        </ul>
    </nav>
    <!-- 视频与标题 -->
    <div class="container">
        <video style="width: 100%; height: auto;" autoplay muted loop>
            <source src="{% static 'videos/video_title.mp4' %}" type="video/mp4">
            您的浏览器不支持视频播放。
        </video>
        <!-- <h1 class="artistic-title">反金融欺诈</h1> -->
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <img src="{% static 'images/dgraph.png' %}" alt="dataset" class="img-fluid" style="width: 30%; height: auto;">
            <img src="{% static 'images/win.png' %}" alt="win" class="img-fluid" style="width: 30%; height: auto;">
            <img src="{% static 'images/xinye.png' %}" alt="xinye" class="img-fluid" style="width: 30%; height: auto;">
        </div>
    </div>
    <!-- HTML内容 -->
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h2>金融欺诈案例数量</h2>
                <canvas id="fraudCasesChart"></canvas>
                <small style="color: gray; font-size: 0.5em;">来源：北京金融信息化研究所 </small>
            </div>
            <div class="col-md-6 d-flex align-items-center">
                <p style="font-size: 1.4em;">
                    从2015年到2023年，金融欺诈案件的数量呈现出显著增长。2015年记录了500起案件，而2023年则达到了2800起，显示出欺诈活动的日益猖獗，特别是在2019年之后增长尤为明显。
                </p>
                
            </div>
        </div>
        <hr class="my-4">
        <div class="row">
            <div class="col-md-6 d-flex align-items-center">
                <p style="font-size: 1.4em;">各年龄段的受害者分布中，26-35岁年龄段占比最高，达到35%，其次是18-25岁和36-45岁的受害者，分别为25%和20%。46岁以上的人群占比较低，显示出年轻人群体更易成为金融欺诈的目标。</p>
            </div>
            <div class="col-md-6">
                <h2>受害者年龄分布</h2>
                <canvas id="ageDistributionChart"></canvas>
                <small style="color: gray; font-size: 0.5em;">来源：北京金融信息化研究所 </small>
            </div>
        </div>
        <hr class="my-4">
        <div class="row mt-4">
            <div class="col-md-6">
                <h2>金融欺诈逐年损失 (百万美元)</h2>
                <canvas id="fraudAmountChart"></canvas>
                <small style="color: gray; font-size: 0.5em;">来源：北京金融信息化研究所 </small>
            </div>
            <div class="col-md-6 d-flex align-items-center">
                <p style="font-size: 1.4em;">金融欺诈导致的经济损失逐年上升。2015年损失约为1.5亿美元，而2023年这一数字飙升至8.4亿美元，反映出金融欺诈的规模和影响力在过去几年间急剧增加。</p>
            </div>
        </div>
        <hr class="my-4">
        <div class="row">
            <div class="col-md-6 d-flex align-items-center">
                <ul style="font-size: 1.4em; list-style: none; padding-left: 0;">
                    <ul>
                        <li> 类别极度不平衡，导致样本价值敏感度不同。由于互联网用户基数更大，欺诈率从传统银行约2%降低至万分之一甚至更低，因此识别欺诈案例的难度又上了一个台阶。</li>
                        <li> 对抗攻击，导致出现分布外的样本。欺诈者可能通过改变以往行为、模仿正常用户等方式，来试图躲过反欺诈模型的“法眼”。欺诈手段的飞速变化也让我们头疼不已。</li>
                        <li> 标注稀缺，导致特征学习的指导信号弱。互联网金融产品很多都是创新产品，出现时间较短，标注的数据也不多，如何在新场景中检测欺诈变成了新的难题。</li>
                    </ul>
                </p>
            </div>
            <div class="col-md-6">
                <h2>现状与挑战挑战</h2>
                <img src="{% static 'images/now_problem.png' %}" alt="now_problem" class="img-fluid">
            </div>
        </div>
        <hr class="my-4">
        <div class="row">
            <div class="col-12">
                <h2>防范金融欺诈技术体系结构</h2>
                <img src="{% static 'images/2.png' %}" alt="防范金融欺诈技术体系结构" class="img-fluid">
            </div>
            <div class="col-md-12">
                <p style="font-size: 1.4em;">面对不断增加的金融安全漏洞与用户欺诈风险，我们有必要积极研发和投入技术进行有效风险防控。该图是金融智能风控系统的体系结构，有望准确快速有效地进行各业务环节的风险识别、风险评估、风险预警和风险处理。同时，借助机器学习、跨平台数据引入、图网络技术与大数据分析等科技创新，确保了反欺诈的准确性、缜密性和实时性。</p>
            </div>
        </div>
    </div>
    
    

    <div class="container">
        <h2>使用我们的模型</h2>
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <figure style="text-align: center; width: 30%;">
                <a href="{% url 'GCN_main' %}">
                    <img src="{% static 'images/GCN.png' %}" alt="GCN" class="img-fluid" style="width: 50%; height: auto;">
                </a>
                <figcaption>GCN 是一种图卷积神经网络，可以利用金融网络中的节点及邻居信息，对图结构数据进行分类和预测。</figcaption>
            </figure>
    
            <figure style="text-align: center; width: 30%;">
                <a href="{% url 'GraphSage_main' %}">
                    <img src="{% static 'images/Sage.png' %}" alt="Sage" class="img-fluid" style="width: 50%; height: auto;">
                </a>
                <figcaption>GraphSAGE 是一种高效的图神经网络模型，它通过采样固定数量的邻居节点并聚合它们的特征，实现对大规模动态图的高效学习，广泛用于金融数据分析和推荐系统。</figcaption>
            </figure>
    
            <figure style="text-align: center; width: 30%;">
                <a href="{% url 'GEARSage_main' %}">
                    <img src="{% static 'images/GEARSage.png' %}" alt="GEARSage" class="img-fluid" style="width: 50%; height: auto;">
                </a>
                <figcaption>GEARSage 结合了 GraphSAGE 的邻居采样与聚合机制，并引入图注意力等先进的图分析技术，能够在复杂动态金融网络中高效地发现异常行为。</figcaption>
            </figure>
        </div>
    </div>
    

    <!-- 引用 JavaScript 文件 -->
    <script src="{% static 'fraudData.js' %}"></script> <!-- 确保 fraudData.js 在图表代码之前加载 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        // 页面加载完成后运行
        window.onload = function() {
            var navbar = document.querySelector('.navbar');
            var navbarTitle = document.querySelector('.navbar-title');
        
            // 监听页面滚动
            window.onscroll = function() {
                // 如果页面向下滚动了超过 50px，则让导航栏和标题透明
                if (window.scrollY > 50) {
                    navbar.classList.add('transparent');
                    navbarTitle.style.opacity = '0'; // 标题消失
                } else {
                    // 如果滚动回顶部，恢复导航栏和标题
                    navbar.classList.remove('transparent');
                    navbarTitle.style.opacity = '1'; // 标题恢复显示
                }
            };
        };
    </script>

    <script>
        // Fraud Cases Chart
        var ctx1 = document.getElementById('fraudCasesChart').getContext('2d');
        var fraudCasesChart = new Chart(ctx1, {
            type: 'line',
            data: {
                labels: fraudData.years,
                datasets: [{
                    label: 'Fraud Cases',
                    data: fraudData.fraudCases,
                    borderColor: 'rgba(75, 192, 192, 1)',
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    fill: true
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: { title: { display: true, text: 'Year' }},
                    y: { title: { display: true, text: 'Cases' }}
                }
            }
        });

        // Age Distribution Chart
        var ctx2 = document.getElementById('ageDistributionChart').getContext('2d');
        var ageDistributionChart = new Chart(ctx2, {
            type: 'pie',
            data: {
                labels: ['18-25', '26-35', '36-45', '46-60', '60+'],
                datasets: [{
                    data: fraudData.ageDistribution,
                    backgroundColor: ['#ff6384', '#36a2eb', '#cc65fe', '#ffce56', '#6dd1b4']
                }]
            },
            options: {
                responsive: true,
            }
        });

        // Fraud Amount Chart
        var ctx3 = document.getElementById('fraudAmountChart').getContext('2d');
        var fraudAmountChart = new Chart(ctx3, {
            type: 'bar',
            data: {
                labels: fraudData.years,
                datasets: [{
                    label: 'Fraud Amount (billion USD)',
                    data: fraudData.fraudAmounts,
                    backgroundColor: 'rgba(54, 162, 235, 0.6)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: { title: { display: true, text: 'Year' }},
                    y: { title: { display: true, text: 'Amount (billion USD)' }}
                }
            }
        });
    </script>

</body>
</html>
